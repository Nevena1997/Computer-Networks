\documentclass[]{article}

% ----------- BEGIN PACKAGES -----------
\usepackage[utf8]{inputenc}
\usepackage[english,serbian]{babel}
\usepackage[margin=0.7in]{geometry}
\usepackage{url}
\usepackage{float}
\usepackage[graphicx]{realboxes}
\usepackage{listings}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{adjustbox}
\lstset {
    language=Java,
    frame=none,
    % xleftmargin=-.25in,
    % xrightmargin=.25in
    framesep=10pt,
    tabsize=4,
    showstringspaces=false,
    upquote=true,
    commentstyle=\color{black},
    keywordstyle=\color{black},
    stringstyle=\color{black},
    basicstyle=\small\ttfamily,
    emph={int,char,double,float,unsigned,void,bool},
    emphstyle={\color{black}},
    escapechar=\&,
    classoffset=1,
    morekeywords={>,<,.,;,,,-,!,=,~},
    keywordstyle=\color{black},
    classoffset=0,
    breaklines=true
}
\setlength{\tabcolsep}{30pt}
\pagenumbering{gobble}
% ----------- END PACKAGES -----------

% ----------- BEGIN PREAMBLE -----------
\titlespacing\title{left spacing}{before spacing}{after spacing}[right]

\title{Ra\v{c}unarske mre\v{z}e 4I, Ispit - SEP3}
\date{23.09.2020.}

\begin{document}

\makeatletter
\begin{center}

{\fontsize{12pt}{14pt}\selectfont\bfseries\@title\par}
\@date
\vspace{5mm}

\noindent\fbox{%
    \parbox{\textwidth}{%
      Pro\v{c}itati sve zadatke \textbf{pa\v{z}ljivo} pre rada - sve \v{s}to nije navedeno ne mora da se implementira! 

      Na \texttt{Desktop}-u se nalazi zip arhiva. Unutar arhive se nalazi direktorijum u formatu \texttt{rm\_rok\_Ime\_Prezime\_miGGXXX}\\
      u kome se nalazi validan IntelliJ projekat. Izvu\'c{}i direktorijum iz arhive na Desktop i ubaciti svoje podatke u ime.\\
      Otvoriti IntelliJ IDEA, izabrati opciju \texttt{Open project} (ne \texttt{Import project}!) i otvoriti pomenuti direktorijum.\\ 
      Sve kodove ostaviti unutar ve\'c{} kreiranih Java fajlova. \textbf{Kodovi koji se ne prevode se ne\'c{}e pregledati.}\\
      \textbf{Nepo\v{s}tovanje formata ulaza/izlaza nosi kaznu od -10\% poena na zadatku!}
      Vreme za rad: \textbf{2.5h}.
    }%
}
\end{center}
\makeatother
% ----------- END PREAMBLE -----------

\vspace{5pt}

% ----------- BEGIN DOCUMENT -----------
\begin{enumerate}
  
% ----------- BEGIN 1 -----------
\item \textbf{Kviz (17p)}
\\Napraviti TCP klijent-server aplikaciju preko koje se korisnici takmi\v{c}e u kvizu. Server ima ulogu sudije u kvizu i vodi evidenciju o poenima takmičara (klijenata).
\begin{itemize}
  \item Napraviti Java klasu koja ima ulogu lokalnog TCP servera (koriste\'c{}i \textit{Java Sockets API}) koji oslu\v{s}kuje na portu 12321. Pri pokretanju, server sa standardnog ulaza u\v{c}itava nisku koja predstavlja naziv tekstualnog fakla u kome se nalaze pitanja za kviz. Fajl ima format kao u primeru ispod. \hfill (2p)
  \item Napraviti Java klasu koja ima ulogu TCP klijenta (koriste\'c{}i \textit{Java Sockets API}). Klijent formira konekciju sa lokanim serverom na portu 12321. Nakon uspostavljanja konekcije, klijent \v{s}alje serveru nisku koja predstavlja ime tog klijenta, učitanu sa standardnog ulaza. \hfill (2p)
  \item Kad se skupi ta\v{c}no 5 takmi\v{c}ara (klijenata), tada kviz po\v{c}inje i server \v{s}alje svim klijentima poruku \textit{Kviz pocinje sada. Srecno!}. \hfill (2p)
  \item Za svako u\v{c}itano pitanje server \v{s}alje svim u\v{c}esnicima kviza poruku u kojoj se nalazi pitanje i 4 ponudjena odgovora. \hfill (1p)
  \item Klijenti od trenutka kad su primili poruku koja sadr\v{z}i pitanje, imaju 10 sekundi da po\v{s}alju odgovor (A, B, C ili D). \hfill (2p) 
  \item U slu\v{c}aju da takmi\v{c}ar (klijent):  \hfill (5p)
  \begin{enumerate}
      \item zakasni da po\v{s}alje odgvor: server mu \v{s}alje poruku \textit{Niste stigli da odgovorite na vreme.} i ne menja mu rezultat.
      \item prvi pogre\v{s}no odgovori: server ga obave\v{s}tava porukom \textit{Netacan odgovor. Izgubili ste 0.5 poena} i umanjuje rezultat tog klijenta za 0.5 poena.
      \item prvi ta\v{c}no odgovori: server mu dodaje jedan poen na trenutni rezultat i obave\v{s}tava ga o tome porukom \textit{Tacan odgovor. Osvojili ste poen}.
      \item nije prvi dao ta\v{c}an odgovor: server mu \v{s}alje poruku \textit{Niste prvi dali tacan odgovor.} i ne menja mu rezultat.
  \end{enumerate}
  \item Nakon potro\v{s}enih svih pitanja u fajlu, server \v{s}alje svim klijentima poruku \textit{Kviz je zavrsen!} i rezultate u opadajućem poretku prema broju osvojenih poena u formatu \textit{ImeKlijenta brojPoena} \hfill (2p)
  \item Postarati se da su svi resursi ispravno zatvoreni u slu\v{c}aju izuzetka. \hfill (1p)
\end{itemize}

\vspace{20pt}
\begin{center}
  \textbf{------------------------------------------------------------------------------------------------------------------------------}
\end{center}
\textit{Napomena: Ohrabrujemo studente da koriste \texttt{netcat} kako bi testirali delimi\v{c}ne implementacije i otkrili gre\v{s}ke pre vremena. Takodje, ukoliko se npr. presko\v{c}i implementacija servera, mo\v{z}e se mock-ovati server putem \texttt{netcat}-a.} 
\begin{center}
  \textbf{--------------------------------------------------- Okrenite stranu! ---------------------------------------------------}
\end{center}
\newpage

\noindent
\begin{lstlisting}
  ulaz: /home/ispit/Desktop/MaterijaliZaKviz.txt
  [Napomena: Sa zvezdicom je odredjen tacan odgovor.]
  sadrzaj fajla:
  1. Koliko zvezdica je imala zmajeva kugla koju je Goku dobio od deke?
  A) 3
  B) 4 *
  C) 7
  D) 5
  2. Sta znaci Ichigo na japanskom?
  A) jagoda *
  B) sargarepa
  C) malina
  D) paradajz
  3. Koju djavolju vocku je pojeo Luffy?
  A) Mera Mera no Mi
  B) Bari Bari no Mi
  C) Toki Toki no Mi
  D) Gomu Gomu no Mi *
  4. Sta Naruto obozava da jede?
  A) Mochi
  B) Gyoza
  C) Ramen *
  D) Sushi
\end{lstlisting}
% ----------- END 1 -----------

\vspace{20pt}

% ----------- BEGIN 2 -----------
\item \textbf{UDP (13p)}
\\Napraviti UDP klijent-server aplikaciju preko koje se šalje deo sadržaja fajla.
\begin{itemize}
  \item Napraviti Java klasu koja ima ulogu lokalnog UDP servera, koji oslu\v{s}kuje na portu 12121.
  Server sa standardnog ulaza učitava nisku, koja predstavlja naziv foldera u kome se nalaze fajlovi koje klijenti mogu zatra\v{z}iti.
  Implementirati prijem UDP datagrama od klijenata koriste\'c{}i klasu \textit{DatagramPacket}. Za svaki prihvaćen datagram ispisati poruku na standardni izlaz sa informacijama o tom datagramu --- redni broj primljenog datagrama i IP adresu po\v{s}iljaoca. \hfill (4p)
  \item Napraviti Java klasu koja ima ulogu UDP klijenta. Klijent sa standardnog ulaza učitava nisku, koja predstvalja naziv fajla i dva neoznačena cela broja koji predstavljaju redne brojeve linija fajla. Klijent šalje serveru datagram, koriste\'c{}i klasu \textit{DatagramPacket}, koji sadrži naziv fajla i redne brojeve linija. Klijent zatim dobija datagram od servera, \v{c}iji sadr\v{z}aj ispisuje na standardni izlaz. \hfill (4p)
  \item Za svaki prihvaćen datagram sadržaja \texttt{naziv, broj1, broj2}, server po\v{s}iljaocu odgovara datagramom koji sadrži ise\v{c}ak fajla čiji je naziv određen niskom \texttt{naziv} od linije \texttt{broj1} do linije \texttt{broj2}. Fajlovi se tra\v{z}e samo u okviru odgovarajućeg foldera servera u\v{c}itanog na po\v{c}etku rada servera. Voditi računa o ispravnim granicama \texttt{[broj1, broj2]} i o tome da li fajl sadrži odgovarajući broj linija. U slučaju da nisu ispunjeni ovi uslovi, poslati klijentu poruku \texttt{Nepravilno zadata naredba}.
  \hfill (4p)
  \item Postarati se da su svi resursi ispravno zatvoreni u slu\v{c}aju izuzetka. \hfill (1p)
\end{itemize}
% ----------- END 2 -----------

\end{enumerate}
\end{document}
% ----------- END DOCUMENT -----------
